<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js"></script>
    <script src="js/lib/fronty.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">
    <link rel="icon" href="icons/logo.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.js"></script>




    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />

    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    'rubik': ['Rubik', 'sans-serif']
                }
            }
        }
    </script>

    <!-- user code -->
    <script src="templates/helpers.js"></script>
    <script src="js/model/post.js"></script>
    <script src="js/model/posts.js"></script>
    <script src="js/model/user.js"></script>
    <script src="js/model/project.js"></script>
    <script src="js/model/projects.js"></script>
    <script src="js/service/postsservice.js"></script>
    <script src="js/service/userservice.js"></script>
    <script src="js/service/projectsservice.js"></script>
    <script src="js/component/maincomponent.js"></script>
    <script src="js/component/postscomponent.js"></script>
    <script src="js/component/postviewcomponent.js"></script>
    <script src="js/component/postaddcomponent.js"></script>
    <script src="js/component/posteditcomponent.js"></script>
    <script src="js/component/logincomponent.js"></script>
    <script src="js/component/registercomponent.js"></script>
    <script src="js/component/projectscomponent.js"></script>

    <script src="js/i18n/I18n.js"></script>

    <script src="js/app.js"></script>

</head>

<body class="bg-[#edb705] flex flex-col items-center justify-center h-screen">
    <div id="frontyapp">
        Loading app, please wait...
    </div>
    <script type="module">
        function reinitializeLoginModal() {
            // Esperar hasta que el modal esté en el DOM
            const waitForModal = () => {
                const modalElement = document.querySelector('.modal');
                if (modalElement) {

                    // Re-inicializa los atributos y eventos necesarios
                    initFlowbite();
                    console.log('Modal reinitialized on #login');
                } else {
                    // Volver a intentar después de un breve retardo
                    setTimeout(waitForModal, 50); // 50ms de retardo
                }
            };

            waitForModal();
        }

        // Detecta cambios en el hash
        window.addEventListener('hashchange', () => {
            console.log('Hash changed to:', location.hash);
            if (location.hash === '#login') {
                reinitializeLoginModal();
            }
        });

        // Inicializa al cargar la página
        document.addEventListener('DOMContentLoaded', () => {
            if (location.hash === '#login') {
                reinitializeLoginModal();
            }
        });
    </script>
</body>

</html>